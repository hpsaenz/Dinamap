65426,65426.00,"1","Vital Signs",,0.00,,,1,1,1,5.00,8.00,8.00,8.00,8.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
65428,65428.00,"2","Vital Signs",,0.00,,,1,0,0,1.00,12.00,8.00,457.00,28.00,1,0,,16,0,,0,-1,"Arial:10:B",16711680,-1,"
{FMT(""Vital Signs "", ""B,2"")}
",,0.00,0.00,0.00,0.00,0,,0,,
601507,65429.00,"3",,,0.00,,,0,0,1,1.00,12.00,28.00,457.00,48.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65429,65430.00,"1.2",,"32,16,30,12,10",0.00,,,0,0,5,5.00,457.00,48.00,457.00,48.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
601461,65433.00,"5","Height(HS):",,5.00,"AS4-1011.3","Height",0,0,5,5.00,12.00,48.00,148.00,68.00,1,0,"pos_real",16,35,"Arial:8:",0,16777215,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,1,,0,,
65431,65434.00,"3","inches",,0.00,,,0,0,1,1.00,156.00,48.00,220.00,68.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
65432,65435.00,"5","Weight:",,5.00,"AS4-1010.1","Weight",0,0,5,5.00,228.00,48.00,355.00,68.00,1,0,"pos_real",16,30,"Arial:8:",0,16777215,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,0,,0,,
65433,65436.00,"3","pounds",,0.00,,,0,0,1,1.00,363.00,48.00,409.00,68.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
290890,65437.00,"3",,,0.00,,,0,0,1,1.00,417.00,48.00,457.00,68.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65434,65438.00,"1.2",,"32,16,42,10",0.00,,,0,0,4,5.00,457.00,68.00,457.00,68.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
601032,65440.00,"1.6",,"TmpType <> ""C""",0.00,,,0,0,0,5.00,457.00,68.00,457.00,68.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65435,65441.00,"5","Temperature:",,5.00,"MLI-4000.15","Temperature",0,0,5,5.00,12.00,68.00,148.00,88.00,1,0,"pos_real",16,35,"Arial:8:",0,16776960,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,0,,0,,
601033,65442.00,"1.6",,"TmpType == ""C""",0.00,,,0,0,0,5.00,457.00,68.00,457.00,68.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601034,65443.00,"5","Temperature:",,5.00,"MLI-121597.2","Temp(deg C)",0,0,5,5.00,12.00,68.00,148.00,88.00,1,0,"pos_real",16,35,"Arial:8:",0,16776960,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,1,,0,,
601035,65444.00,"1.7",,,0.00,,,0,0,0,5.00,0.00,0.00,0.00,0.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65436,65445.00,"4",,"{if TmpType == ""C"", ""degrees C"", ""degrees F""}",11.00,,,0,1,1,5.00,156.00,68.00,220.00,88.00,1,0,,16,100,"Arial:8:",0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65437,65447.00,"6","Temperature site:","oral,rectal,axillary,tympanic",5.00,"AS4-1000.6","Temp site",1,0,,5.00,228.00,68.00,410.00,88.00,1,0,,16,51,"Arial:8:",0,16777215,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,0,,0,,
290888,65448.00,"3",,,0.00,,,0,0,1,1.00,418.00,68.00,457.00,88.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
290596,65449.00,"1.2",,"32,16,42,10",0.00,,,0,0,4,5.00,457.00,88.00,457.00,88.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
290598,65451.00,"5","Pulse rate:",,5.00,"AS4-1006.2","Pulse rate",0,0,3,5.00,12.00,88.00,148.00,108.00,1,0,"pos_integer",16,35,"Arial:8:",0,16776960,"Arial:8:",0,-1,"{cfmt(OBSNOW(""Pulse rate""), ""B"", ""P: "", """", ""  "")}",,0.00,0.00,0.00,0.00,0,,0,,
290600,65452.00,"3",,,0.00,,,0,0,1,1.00,156.00,88.00,220.00,108.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
290599,65453.00,"6","Pulse rhythm:","regular, irregular,irreg. irregular, alternans, bigeminal, tardus",5.00,"MLI-4398.81","pulse rhythm",0,0,,5.00,228.00,88.00,410.00,108.00,1,0,,16,51,"Arial:8:",0,16777215,"Arial:8:",0,-1,"",,0.00,0.00,0.00,0.00,0,,0,,
290889,65455.00,"3",,,0.00,,,0,0,1,1.00,418.00,88.00,457.00,108.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65438,65456.00,"1.2",,"32,16,30,12,10",0.00,,,0,0,5,5.00,457.00,108.00,457.00,108.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
290922,65460.00,"5","SpO2:",,5.00,"CPT-94760","O2sat(oxim)",0,0,3,5.00,12.00,108.00,148.00,128.00,1,0,"pos_integer",16,35,"Arial:8:",0,16776960,"Arial:8:",0,-1,"{CFMT(OBSNOW(""O2sat(oxim)""), ""B"", ""SpO2: "", """", ""%   "")}",,0.00,0.00,0.00,0.00,1,,0,,
290923,65461.00,"3","%",,0.00,,,0,0,1,1.00,156.00,108.00,220.00,128.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65441,65462.00,"5","Blood pressure:",,5.00,"AS4-1002.2","BP systolic",0,0,3,5.00,228.00,108.00,355.00,128.00,1,0,"pos_integer",16,30,"Arial:8:",0,16776960,"Arial:8:",0,-1,"{cfmt(OBSNOW(""BP systolic""), ""B"", ""BP: "")}",,0.00,0.00,0.00,0.00,0,,0,,
65442,65463.00,"5","/",,5.00,"AS4-1002.3","BP diastolic",0,0,3,1.00,363.00,108.00,409.00,128.00,1,0,"pos_integer",16,76,"Arial:8:",0,16776960,"Arial:8:",0,-1,"{cfmt(OBSNOW(""BP diastolic""), ""B"", ""/"", ""B"", ""  "")}",,0.00,0.00,0.00,0.00,0,,0,,
65443,65464.00,"3","mm Hg",,0.00,,,0,0,1,1.00,417.00,108.00,457.00,128.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
290920,65465.00,"1.2",,"32,16,42,10",0.00,,,0,0,4,5.00,457.00,128.00,457.00,128.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65440,65467.00,"5","Respirations:",,5.00,"AS4-1007.2","Resp rate",0,0,3,5.00,12.00,128.00,148.00,148.00,1,0,"pos_integer",16,35,"Arial:8:",0,16777215,"Arial:8:",0,-1,"{cfmt(OBSNOW(""Resp rate""), ""B"", ""R: "", """", ""  "")}",,0.00,0.00,0.00,0.00,0,,0,,
290891,65468.00,"3",,,0.00,,,0,0,1,1.00,156.00,128.00,220.00,148.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
290924,65469.00,"3",,,0.00,,,0,0,1,1.00,228.00,128.00,410.00,148.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
290925,65470.00,"3",,,0.00,,,0,0,1,1.00,418.00,128.00,457.00,148.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601124,65472.00,"3",,,0.00,,,0,0,1,1.00,12.00,148.00,457.00,168.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
600775,65473.00,"1.5",,"{!global PCDlg  = """"
  global TmpType = ""F"" }",0.00,,,0,0,0,5.00,457.00,168.00,457.00,168.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
599666,65476.00,"1.5",,"{fn procare()
   {
    // -----------------------------------------------------------------
    //
    // This MEL function is used to invoke the ProCare.exe program
    // which will read the vitals data from the ProCare monitor and
    // return the data into iStr in the following format:
    //
    // ver|date|time|pid|temp|units|pulse|systolic|diastolic|spo2|errmsg|
    //
    // For example:
    //
    //     V1|05/21/2003|13:21:53|PATID-032143|98.3|F|65|120|80|98||
    //
    // -----------------------------------------------------------------

    // Invoke the ProCare.exe program to read the monitor and return a
    // set of vitals data for processing.
    local iStr = runtextprocess(""procare"", ""/i "" + PATIENT.PATIENTID)

    // Parse the input string and separate the fields into an array
    local iary = getfield(iStr, ""|"", """")

    // Create a patient name string for later use in reporting information
    local pnam = PATIENT.FIRSTNAME +"" ""+ PATIENT.MIDDLENAME +"" ""+ PATIENT.LASTNAME

    // Save the Temperature Unit (F or C) into a global. It is checked in
    // other parts of this form to determine the display of hidden fields 
    if iary[6] <> """" then
       TmpType = iary[6]
    endif

    // If no data came in then there was some kind of error. Set all values
    // to NULL and store the appropriate error message which gets displayed
    // in the ""Information"" window of the form.
    if iStr == """" then
       PCDlg = ""No data returned. Check ProCare.ini and logfile to ensure proper setup.""
    else
       // Validate the incoming patient ID. Since we provided it as an argument
       // to the ProCare.exe program, it should match the current patient.
       if iary[4] <> PATIENT.PATIENTID then
          OBSNOW(""Temperature"", """")
          OBSNOW(""Pulse rate"", """")
          OBSNOW(""BP systolic"", """")
          OBSNOW(""BP diastolic"", """")
          OBSNOW(""O2sat(oxim)"", """")
          PCDlg = ""Incoming Patient ID ("" + iary[4] + "") doesn't match current patient "" + pnam + "" ("" +  PATIENT.PATIENTID + "")""
       else
          // Any zero values get reset to NULL. Otherwise set the appropriate
          // vital from it's corresponding incoming array value.
          if iary[5] == """" OR iary[5] == ""00.0"", OBSNOW(""Temperature"", """"),
             if iary[6] <> ""C"", OBSNOW(""Temperature"", iary[5]),
                OBSNOW(""Temp(deg C)"", iary[5])
          if iary[7] == """" OR iary[7] == ""0"", OBSNOW(""Pulse rate"", """"),
             OBSNOW(""Pulse rate"",   iary[7])
          if iary[8] == """" OR iary[8] == ""0"", OBSNOW(""BP systolic"", """"),
             OBSNOW(""BP systolic"",  iary[8])
          if iary[9] == """" OR iary[9] == ""0"", OBSNOW(""BP diastolic"", """"),
             OBSNOW(""BP diastolic"", iary[9])
          if iary[10] == """" OR iary[10] == ""0"", OBSNOW(""O2sat(oxim)"", """"),
             OBSNOW(""O2sat(oxim)"",  iary[10])

          // If all incoming values are NULL, then we didn't get a proper read
          // If we did get a good read, say so in the Information window followed
          // by any text coming in through the errmsg field.
          if iary[5] == """" AND iary[7] == """" AND iary[8] == """" AND iary[9] == """" AND iary[10] == """" then
             PCDlg = iary[11]
          else
             PCDlg  = iary[3] + "" - Vitals read from ProCare monitor""
             if iary[11] <> """" then
                PCDlg = fmt(PCDlg + ""\r\n"" + iary[11], """")
             endif
          endif
       endif
    endif

    // Copy the output text to the temp variable for posting to the note
    DOCUMENT.TEMP_235941949_1_601409 = PCDlg
   }
}",0.00,,,0,0,0,5.00,457.00,168.00,457.00,168.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601352,65477.00,"1.2",,"19,34,37,10",0.00,,,0,0,4,5.00,457.00,168.00,457.00,168.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601354,65479.00,"3",,,0.00,,,0,0,1,1.00,12.00,168.00,90.00,188.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
290927,65480.00,"10","Log Monitor Observations","{procare()}",4.00,,"RUNPROCESS",0,0,0,5.00,98.00,168.00,244.00,204.00,1,0,,32,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601357,65481.00,"3","Click this button to get the latest vitals data from the monitor.",,0.00,,,0,0,2,1.00,252.00,168.00,411.00,204.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601355,65482.00,"3",,,0.00,,,0,0,1,1.00,419.00,168.00,457.00,188.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
290926,65483.00,"1.2",,"90,10",0.00,,,0,0,2,5.00,457.00,204.00,457.00,204.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
601409,65486.00,"7","Information:",,1.00,,"DOCUMENT.TEMP_235941949_1_601409",0,0,3,5.00,12.00,204.00,411.00,256.00,1,0,,16,78,"Arial:8:",0,16777215,"Arial:8:",0,-1,"{CFMT(DOCUMENT.TEMP_235941949_1_601409, """", ""\r\nInformation: "", ""B"", ""
"")}","{FMT(""\r\nInformation: "", ""B"")}{IF DOCUMENT.TEMP_235941949_1_601409 = """" THEN FMT("".          ."", ""B,U"") ELSE FMT(DOCUMENT.TEMP_235941949_1_601409, ""B,U"") ENDIF}


",0.00,0.00,0.00,0.00,1,,0,,
290930,65488.00,"3",,,0.00,,,0,0,1,1.00,419.00,204.00,457.00,224.00,1,0,,16,0,,0,-1,"Arial:8:",0,-1,,,0.00,0.00,0.00,0.00,1,,0,,
65444,65489.00,"1.4",,,0.00,,,0,0,0,5.00,457.00,256.00,457.00,256.00,1,0,,0,0,,0,-1,,0,-1,,,0.00,0.00,0.00,0.00,0,,0,,
